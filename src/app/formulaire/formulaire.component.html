<header>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <div><a href="http://dxc-technlogy-maroc.com/" class="navbar-brand">DXC.technology</a></div>
      <ul class="navbar-nav">
          <li><a class="nav-link" href="/formulaire">Application generator</a></li>
      </ul>
  </nav>
</header>


  <div class="container"  >
    <br>
    <div class="rox">
      <div class="col-md-6">
        <h3>Formulaire du générateur</h3>
        <br>
        <form [formGroup]="generateurForm" (ngSubmit)="onSubmit()">

          <!-- <div>
            <label>Emplacement projet :</label>
            <input class="u-full-width" placeholder="Folder" type="text" [(ngClass)]="folder">
            <button id="browse" class="button-primary" (click)="browse()">Browse</button>
            <input id="fileInput" type="file" style="display: none" />
        </div> -->

          <div class="form-group">
            <label>Emplacement projet :</label>
            <input type="text" class="form-control" formControlName="diroctoryproject" placeholder="diroctoryproject"
              [ngClass]="{ 'is-invalid': submitted && f.diroctoryproject.errors }" />
            <div *ngIf="submitted && f.diroctoryproject.errors" class="invalid-feedback">
              <div *ngIf="f.diroctoryproject.errors.required">Emplacement projet est obligatoire !</div>
            </div>
          </div>

          <div class="form-group">
            <label>Nom projet :</label>
            <input type="text" class="form-control" formControlName="nomprojet" placeholder="nameApplication"
              [ngClass]="{ 'is-invalid': submitted && f.nomprojet.errors }" />
            <div *ngIf="submitted && f.nomprojet.errors" class="invalid-feedback">
              <div *ngIf="f.nomprojet.errors.required">Nom de projet obligatoire </div>
            </div>
          </div>

          <div class="form-group">
            <label>Nom de package :</label>
            <input type="text" class="form-control" formControlName="nompackage" placeholder="com.mycompany.myapp"
              [ngClass]="{ 'is-invalid': submitted && f.nompackage.errors }" />
            <div *ngIf="submitted && f.nompackage.errors" class="invalid-feedback">
              <div *ngIf="f.nompackage.errors.required">Nom de package obligatoire </div>
            </div>
          </div>

          <div class="form-group">
            <label>Sur quel port votre serveur doit-il fonctionner ? Il doit être unique pour éviter les conflits de
              port:</label>
            <input type="number" class="form-control" formControlName="port" placeholder="8080"
              [ngClass]="{ 'is-invalid': submitted && f.port.errors }" />
            <div *ngIf="submitted && f.port.errors" class="invalid-feedback">
              <div *ngIf="f.port.errors.required"> port obligatoire </div>
            </div>
          </div>

          <div class="form-group">
            <label>Type de base de donne :</label>
            <select class="custom-select" formControlName="typebasededonne"
              [ngClass]="{ 'is-invalid': submitted && f.typebasededonne.errors }" placeholder="MYSQL">
              <option selected>Choisir type de base de donne...</option>
              <option value="MYSQL">MYSQL</option>
              <option value="postgresql">postgresql</option>
            </select>

            <div *ngIf="submitted && f.typebasededonne.errors" class="invalid-feedback">
              <div *ngIf="f.typebasededonne.errors.required">choisir un type de base de donne est obligatoire</div>
            </div>
          </div>

          <div class="form-group">
            <label>Serveur de la base de donnée:</label>
            <input type="text" class="form-control" formControlName="lienserveur"
              placeholder="localhost:3306" [ngClass]="{ 'is-invalid': submitted && f.lienserveur.errors }" />
            <div *ngIf="submitted && f.lienserveur.errors" class="invalid-feedback">
              <div *ngIf="f.lienserveur.errors.required"> URL serveur obligatoire </div>
            </div>
          </div>

          <div class="form-group">
            <label>Nom de la base de donnée :</label>
            <input type="text" class="form-control" formControlName="databaseName"
              placeholder="dbName" [ngClass]="{ 'is-invalid': submitted && f.lienserveur.errors }" />
            <div *ngIf="submitted && f.databaseName.errors" class="invalid-feedback">
              <div *ngIf="f.databaseName.errors.required"> Nom de la bdd obligatoire </div>
            </div>
          </div>

          <div class="form-group">
            <label>nom d'urilisateur de base de données:</label>
            <input type="text" class="form-control" formControlName="nomutilisateur"
              placeholder="saisir utilisateur de base donnees"
              [ngClass]="{ 'is-invalid': submitted && f.nomutilisateur.errors }" />
            <div *ngIf="submitted && f.nomutilisateur.errors" class="invalid-feedback">
              <div *ngIf="f.nomutilisateur.errors.required"> nom utilisateur obligatoire </div>
            </div>
          </div>

          <div class="form-group">
            <label>Mot de passe utilisateur base de donne :</label>
            <input type="password" class="form-control" formControlName="motdepasseutilisateur"
              placeholder="saisir mot de passe" />

            <!-- [ngClass]="{ 'is-invalid': submitted && f.motdepasseutilisateur.errors }"-->
            <!-- <div *ngIf="submitted && f.motdepasseutilisateur.errors" class="invalid-feedback">
            <div *ngIf="f.motdepasseutilisateur.errors.required">mot de passe obligatoire</div>
            <div *ngIf="f.motdepasseutilisateur.errors.minlength">Le mot de passe doit être au moins de 8 caractères</div>
        </div>
      -->
          </div>

          <!--
          <div class="form-group">
            <button type="button" class="btn btn-info" (click)="onTest()" data-target="#myModal">Test connection DB</button>
          </div>
          -->
         
          <div class="container">
            <h2>Small Modal</h2>
            <!-- Trigger the modal with a button -->
            <!-- <button type="button" class="btn btn-secondary btn-lg" (click)="onTest()" data-toggle="modal" data-target="#myModal">test connection db</button>
            <ng-template
            *ngIf="variable;then NN; else CC">
          </ng-template>

          <ng-template #CC>
          
              <button type="button" class="btn btn-success btn-lg" (click)="onTest()" data-toggle="modal" data-target="#myModal">test connection db</button>
          
          </ng-template>

          <ng-template #NN>
            
              <button type="button" class="btn btn-danger btn-lg" (click)="onTest()" data-toggle="modal" data-target="#myModal">test connection db</button>
            
          </ng-template> -->

            <!-- <div ng-if="variable==''">
             <button type="button" class="btn btn-secondary btn-lg" (click)="onTest()" data-toggle="modal" data-target="#myModal">test connection db</button>
            </div>
            <div ng-if="variable=='Database connected!'">
              <button type="button" class="btn btn-succes btn-lg" (click)="onTest()" data-toggle="modal" data-target="#myModal">test connection db</button>
             </div>
             <div ng-if="variable=='Cannot connect the database!'">
              <button type="button" class="btn btn-danger" (click)="onTest()" data-toggle="modal" data-target="#myModal">test connection db</button>
             </div> -->
            <button type="button" class="btn btn-info btn-lg" (click)="onTest()" data-toggle="modal" data-target="#myModal">test connection db</button>
          
            <!-- Modal -->
            <div class="modal fade" id="myModal" role="dialog">
              <div class="modal-dialog modal-sm">
                <div class="modal-content">
                 <h2>Message</h2>
                <div >
                 {{variable}}
                </div>
                 
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div>
                </div>
              </div>
            </div>
          </div>






          
          <div class="form-group">
            <input type="checkbox" formControlName="acceptation" class="form-check-input"
              [ngClass]="{ 'is-invalid': submitted && f.acceptation.errors}" />
            <label for="acceptation" class="form-check-label">verifier vos information et accepter </label>
            <div *ngIf="submitted && f.acceptation.errors" class="invalid-feedback">accepter votre verification</div>
          </div>


          <div class="text-center">
            <button type="submit" [disabled]="!f.invalid" class="btn btn-primary mr-2">Envoyer</button>
            <button type="reset" class="btn btn-secondary" (click)="onReset()">Annuler</button>
          </div>
          <br>
          <br>
        </form>
        <br>
        <br>
      </div>
    </div>
  </div>
  

